[{"content":"import { render, screen } from '@testing-library/react';\n\nfunction ColorList() {\n  return (\n    <ul>\n      <li>Red</li>\n      <li>Blue</li>\n      <li>Green</li>\n    </ul>\n  )\n}\n\nrender(<ColorList />);","type":"code","id":"5aj88"},{"content":"test('getBy, queryBy, findBy finding 0 elements', async () => {\n  render(<ColorList />);\n\n  expect(() => screen.getByRole('textbox')).toThrow();\n\n  expect(screen.queryByRole('textbox')).toEqual(null);\n\n  let errorThrown = false;\n  try {\n    await screen.findByRole('textbox');\n  } catch (e) {\n    errorThrown = true;\n  }\n  expect(errorThrown).toEqual(true);\n});","type":"code","id":"rhpas"},{"content":"test('getBy, queryBy, findBy when they find 1 element', async () => {\n  render(<ColorList />);\n\n  expect(screen.getByRole('list')).toBeInTheDocument();\n\n  expect(screen.queryByRole('list')).toBeInTheDocument();\n\n  expect(await screen.findByRole('list')).toBeInTheDocument();\n});","type":"code","id":"6kvsm"},{"content":"test('getBy, queryBy, findBy when finding > 1 elements', async () => {\n  render(<ColorList />);\n\n  expect(() => screen.getByRole('listitem')).toThrow();\n\n  expect(() => screen.queryByRole('listitem')).toThrow();\n\n  let errorThrown = false;\n  try {\n    await screen.findByRole('listitem');\n  } catch (e) {\n    errorThrown = true;\n  }\n  expect(errorThrown).toEqual(true);\n});","type":"code","id":"4biqp"},{"content":"test('getAllBy, queryAllBy, findAllBy', async () => {\n  render(<ColorList />);\n\n  expect(screen.getAllByRole('listitem')).toHaveLength(3);\n  expect(screen.queryAllByRole('listitem')).toHaveLength(3);\n  expect(await screen.findAllByRole('listitem')).toHaveLength(3);\n});","type":"code","id":"18wrh"},{"content":"test('favor using getBy to prove an element exists', () => {\n  render(<ColorList />);\n\n  const element = screen.getByRole('list');\n\n  expect(element).toBeInTheDocument();\n})","type":"code","id":"l3k8g"},{"content":"test('favor using queryBy to prove an element doesn not exists', () => {\n  render(<ColorList />);\n\n  const element = screen.queryByRole('textbox');\n\n  expect(element).not.toBeInTheDocument();\n})","type":"code","id":"yudxd"},{"content":"/*\nSimulate a fetch to retrieve data\n*/\nimport { useEffect, useState } from 'react';\n\nfunction fetchAllColors() {\n  return Promise.resolve(\n    ['red', 'green', 'blue']\n  );\n}\n\nfunction LoadableColorList() {\n  const [colors, setColors] = useState([]);\n  useEffect(() => {\n    fetchAllColors().then((colorsData) => setColors(colorsData));\n  }, []);\n\n  const renderedColors = colors.map((color) => {\n    return (\n      <li key={color}>{color}</li>\n    );\n  });\n\n  return (\n    <ul>{renderedColors}</ul>\n  )\n}\n\nrender(<LoadableColorList />);","type":"code","id":"m21go"},{"content":"test('favor findBy or findAllBy when data fetching', async () => {\n  render(<LoadableColorList />);\n\n  const elements = await screen.findAllByRole('listitem');\n\n  expect(elements).toHaveLength(3);\n});","type":"code","id":"fcx4t"}]